<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Stanthorpe Orchard AR</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        #splash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #FFB6C1 0%, #98FB98 100%);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            transition: opacity 0.5s;
            text-align: center;
            padding: 20px;
        }
        
        #splash h1 {
            font-size: 2.5em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        #startButton {
            padding: 15px 40px;
            font-size: 1.1em;
            background: white;
            color: #FF69B4;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: transform 0.2s;
        }
        
        #startButton:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div id="splash">
        <h1>üå∏ üçé üå∏</h1>
        <button id="startButton" onclick="startAR()">Begin Experience</button>
    </div>

    <a-scene
        id="arScene"
        embedded
        arjs="sourceType: webcam; debugUIEnabled: false;"
        vr-mode-ui="enabled: false"
        renderer="logarithmicDepthBuffer: true;"
        style="display: none;">
        
        <!-- Blossom 1 - 5 petals arranged in flower shape -->
        <a-entity id="blossom1" position="0 0 -3"
                  animation="property: position; to: 0 -3 -3; dur: 6000; loop: true; easing: easeInOutQuad"
                  animation__rotate="property: rotation; to: 0 360 0; dur: 6000; loop: true">
            <!-- Center -->
            <a-sphere radius="0.1" color="#FFFF99" position="0 0 0"></a-sphere>
            <!-- Petals -->
            <a-sphere radius="0.15" color="#FFB6C1" position="0.2 0 0" scale="1.5 1 1"></a-sphere>
            <a-sphere radius="0.15" color="#FFC0CB" position="-0.2 0 0" scale="1.5 1 1"></a-sphere>
            <a-sphere radius="0.15" color="#FFB6C1" position="0 0.2 0" scale="1 1.5 1"></a-sphere>
            <a-sphere radius="0.15" color="#FFC0CB" position="0 -0.2 0" scale="1 1.5 1"></a-sphere>
            <a-sphere radius="0.15" color="#FFFFFF" position="0 0 0.1" scale="1 1 1.5"></a-sphere>
        </a-entity>

        <!-- Blossom 2 -->
        <a-entity id="blossom2" position="-2 1 -3"
                  animation="property: position; to: -2 -3 -3; dur: 7000; loop: true; easing: easeInOutQuad"
                  animation__rotate="property: rotation; to: 0 -360 0; dur: 7000; loop: true">
            <!-- Center -->
            <a-sphere radius="0.08" color="#FFFF99" position="0 0 0"></a-sphere>
            <!-- Petals -->
            <a-sphere radius="0.12" color="#FFFFFF" position="0.15 0 0" scale="1.5 1 1"></a-sphere>
            <a-sphere radius="0.12" color="#FFE4E1" position="-0.15 0 0" scale="1.5 1 1"></a-sphere>
            <a-sphere radius="0.12" color="#FFFFFF" position="0 0.15 0" scale="1 1.5 1"></a-sphere>
            <a-sphere radius="0.12" color="#FFE4E1" position="0 -0.15 0" scale="1 1.5 1"></a-sphere>
            <a-sphere radius="0.12" color="#FFC0CB" position="0 0 0.1" scale="1 1 1.5"></a-sphere>
        </a-entity>

        <!-- Blossom 3 - will transform to apple -->
        <a-entity id="blossom3" position="2 0.5 -3"
                  animation="property: position; to: 2 -3 -3; dur: 8000; loop: true; easing: easeInOutQuad"
                  animation__rotate="property: rotation; to: 0 360 0; dur: 8000; loop: true">
            <!-- Center -->
            <a-sphere radius="0.09" color="#FFFF99" position="0 0 0" id="b3center"></a-sphere>
            <!-- Petals -->
            <a-sphere radius="0.13" color="#FFC0CB" position="0.17 0 0" scale="1.5 1 1" id="b3p1"></a-sphere>
            <a-sphere radius="0.13" color="#FFB6C1" position="-0.17 0 0" scale="1.5 1 1" id="b3p2"></a-sphere>
            <a-sphere radius="0.13" color="#FFC0CB" position="0 0.17 0" scale="1 1.5 1" id="b3p3"></a-sphere>
            <a-sphere radius="0.13" color="#FFB6C1" position="0 -0.17 0" scale="1 1.5 1" id="b3p4"></a-sphere>
            <a-sphere radius="0.13" color="#FFE4E1" position="0 0 0.1" scale="1 1 1.5" id="b3p5"></a-sphere>
        </a-entity>

        <!-- Blossom 4 -->
        <a-entity id="blossom4" position="0.5 1.5 -2"
                  animation="property: position; to: 0.5 -3 -2; dur: 5500; loop: true; easing: easeInOutQuad"
                  animation__rotate="property: rotation; to: 0 -360 0; dur: 5500; loop: true">
            <!-- Center -->
            <a-sphere radius="0.07" color="#FFFFCC" position="0 0 0"></a-sphere>
            <!-- Petals -->
            <a-sphere radius="0.11" color="#FFE4E1" position="0.14 0 0" scale="1.5 1 1"></a-sphere>
            <a-sphere radius="0.11" color="#FFFFFF" position="-0.14 0 0" scale="1.5 1 1"></a-sphere>
            <a-sphere radius="0.11" color="#FFE4E1" position="0 0.14 0" scale="1 1.5 1"></a-sphere>
            <a-sphere radius="0.11" color="#FFFFFF" position="0 -0.14 0" scale="1 1.5 1"></a-sphere>
            <a-sphere radius="0.11" color="#FFC0CB" position="0 0 0.08" scale="1 1 1.5"></a-sphere>
        </a-entity>

        <!-- Blossom 5 - will transform to apple -->
        <a-entity id="blossom5" position="-1.5 0 -2.5"
                  animation="property: position; to: -1.5 -3 -2.5; dur: 6500; loop: true; easing: easeInOutQuad"
                  animation__rotate="property: rotation; to: 0 360 0; dur: 6500; loop: true">
            <!-- Center -->
            <a-sphere radius="0.08" color="#FFFF99" position="0 0 0" id="b5center"></a-sphere>
            <!-- Petals -->
            <a-sphere radius="0.12" color="#FFB6C1" position="0.16 0 0" scale="1.5 1 1" id="b5p1"></a-sphere>
            <a-sphere radius="0.12" color="#FFC0CB" position="-0.16 0 0" scale="1.5 1 1" id="b5p2"></a-sphere>
            <a-sphere radius="0.12" color="#FFB6C1" position="0 0.16 0" scale="1 1.5 1" id="b5p3"></a-sphere>
            <a-sphere radius="0.12" color="#FFC0CB" position="0 -0.16 0" scale="1 1.5 1" id="b5p4"></a-sphere>
            <a-sphere radius="0.12" color="#FFFFFF" position="0 0 0.09" scale="1 1 1.5" id="b5p5"></a-sphere>
        </a-entity>

        <!-- Blossom 6 -->
        <a-entity id="blossom6" position="0 2 -4"
                  animation="property: position; to: 0 -3 -4; dur: 9000; loop: true; easing: easeInOutQuad"
                  animation__rotate="property: rotation; to: 0 360 0; dur: 9000; loop: true">
            <!-- Center -->
            <a-sphere radius="0.1" color="#FFFFCC" position="0 0 0"></a-sphere>
            <!-- Petals -->
            <a-sphere radius="0.15" color="#FFC0CB" position="0.2 0 0" scale="1.5 1 1"></a-sphere>
            <a-sphere radius="0.15" color="#FFE4E1" position="-0.2 0 0" scale="1.5 1 1"></a-sphere>
            <a-sphere radius="0.15" color="#FFC0CB" position="0 0.2 0" scale="1 1.5 1"></a-sphere>
            <a-sphere radius="0.15" color="#FFE4E1" position="0 -0.2 0" scale="1 1.5 1"></a-sphere>
            <a-sphere radius="0.15" color="#FFFFFF" position="0 0 0.12" scale="1 1 1.5"></a-sphere>
        </a-entity>

        <!-- Blossom 7 - will transform to apple -->
        <a-entity id="blossom7" position="1.5 1 -2"
                  animation="property: position; to: 1.5 -3 -2; dur: 7500; loop: true; easing: easeInOutQuad"
                  animation__rotate="property: rotation; to: 0 -360 0; dur: 7500; loop: true">
            <!-- Center -->
            <a-sphere radius="0.09" color="#FFFF99" position="0 0 0" id="b7center"></a-sphere>
            <!-- Petals -->
            <a-sphere radius="0.13" color="#FFFFFF" position="0.17 0 0" scale="1.5 1 1" id="b7p1"></a-sphere>
            <a-sphere radius="0.13" color="#FFE4E1" position="-0.17 0 0" scale="1.5 1 1" id="b7p2"></a-sphere>
            <a-sphere radius="0.13" color="#FFFFFF" position="0 0.17 0" scale="1 1.5 1" id="b7p3"></a-sphere>
            <a-sphere radius="0.13" color="#FFE4E1" position="0 -0.17 0" scale="1 1.5 1" id="b7p4"></a-sphere>
            <a-sphere radius="0.13" color="#FFC0CB" position="0 0 0.1" scale="1 1 1.5" id="b7p5"></a-sphere>
        </a-entity>

        <!-- Big Blossom 8 -->
        <a-entity id="blossom8" position="-0.5 0.5 -1.5"
                  animation="property: position; to: -0.5 -3 -1.5; dur: 10000; loop: true; easing: easeInOutQuad"
                  animation__rotate="property: rotation; to: 0 360 0; dur: 10000; loop: true">
            <!-- Center -->
            <a-sphere radius="0.12" color="#FFFFCC" position="0 0 0"></a-sphere>
            <!-- Petals -->
            <a-sphere radius="0.18" color="#FFB6C1" position="0.24 0 0" scale="1.5 1 1"></a-sphere>
            <a-sphere radius="0.18" color="#FFC0CB" position="-0.24 0 0" scale="1.5 1 1"></a-sphere>
            <a-sphere radius="0.18" color="#FFB6C1" position="0 0.24 0" scale="1 1.5 1"></a-sphere>
            <a-sphere radius="0.18" color="#FFC0CB" position="0 -0.24 0" scale="1 1.5 1"></a-sphere>
            <a-sphere radius="0.18" color="#FFFFFF" position="0 0 0.15" scale="1 1 1.5"></a-sphere>
        </a-entity>

        <a-entity camera></a-entity>
    </a-scene>

    <script>
        function startAR() {
            document.getElementById('splash').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('splash').style.display = 'none';
                document.getElementById('arScene').style.display = 'block';
                
                // Transform some blossoms to apples after a delay
                setTimeout(transformToApples, 3000);
            }, 500);
        }
        
        function transformToApples() {
            // Transform blossom 3 to green apple
            const b3 = document.querySelector('#blossom3');
            if (b3) {
                // Hide petals
                document.querySelector('#b3p1').setAttribute('visible', false);
                document.querySelector('#b3p2').setAttribute('visible', false);
                document.querySelector('#b3p3').setAttribute('visible', false);
                document.querySelector('#b3p4').setAttribute('visible', false);
                document.querySelector('#b3p5').setAttribute('visible', false);
                // Make center into apple
                const center3 = document.querySelector('#b3center');
                center3.setAttribute('radius', '0.35');
                center3.setAttribute('color', '#90EE90');
                // Add apple stem
                const stem3 = document.createElement('a-cylinder');
                stem3.setAttribute('radius', '0.02');
                stem3.setAttribute('height', '0.1');
                stem3.setAttribute('color', '#8B4513');
                stem3.setAttribute('position', '0 0.35 0');
                b3.appendChild(stem3);
            }
            
            // Transform blossom 5 to red apple after delay
            setTimeout(() => {
                const b5 = document.querySelector('#blossom5');
                if (b5) {
                    // Hide petals
                    document.querySelector('#b5p1').setAttribute('visible', false);
                    document.querySelector('#b5p2').setAttribute('visible', false);
                    document.querySelector('#b5p3').setAttribute('visible', false);
                    document.querySelector('#b5p4').setAttribute('visible', false);
                    document.querySelector('#b5p5').setAttribute('visible', false);
                    // Make center into apple
                    const center5 = document.querySelector('#b5center');
                    center5.setAttribute('radius', '0.32');
                    center5.setAttribute('color', '#DC143C');
                    // Add apple stem
                    const stem5 = document.createElement('a-cylinder');
                    stem5.setAttribute('radius', '0.02');
                    stem5.setAttribute('height', '0.1');
                    stem5.setAttribute('color', '#8B4513');
                    stem5.setAttribute('position', '0 0.32 0');
                    b5.appendChild(stem5);
                }
            }, 2000);
            
            // Transform blossom 7 to green apple
            setTimeout(() => {
                const b7 = document.querySelector('#blossom7');
                if (b7) {
                    // Hide petals
                    document.querySelector('#b7p1').setAttribute('visible', false);
                    document.querySelector('#b7p2').setAttribute('visible', false);
                    document.querySelector('#b7p3').setAttribute('visible', false);
                    document.querySelector('#b7p4').setAttribute('visible', false);
                    document.querySelector('#b7p5').setAttribute('visible', false);
                    // Make center into apple
                    const center7 = document.querySelector('#b7center');
                    center7.setAttribute('radius', '0.33');
                    center7.setAttribute('color', '#98FB98');
                    // Add apple stem
                    const stem7 = document.createElement('a-cylinder');
                    stem7.setAttribute('radius', '0.02');
                    stem7.setAttribute('height', '0.1');
                    stem7.setAttribute('color', '#8B4513');
                    stem7.setAttribute('position', '0 0.33 0');
                    b7.appendChild(stem7);
                }
            }, 3500);
            
            // Cycle back to blossoms
            setTimeout(() => {
                // Reset blossom 3
                document.querySelector('#b3p1').setAttribute('visible', true);
                document.querySelector('#b3p2').setAttribute('visible', true);
                document.querySelector('#b3p3').setAttribute('visible', true);
                document.querySelector('#b3p4').setAttribute('visible', true);
                document.querySelector('#b3p5').setAttribute('visible', true);
                document.querySelector('#b3center').setAttribute('radius', '0.09');
                document.querySelector('#b3center').setAttribute('color', '#FFFF99');
                
                // Reset blossom 5
                document.querySelector('#b5p1').setAttribute('visible', true);
                document.querySelector('#b5p2').setAttribute('visible', true);
                document.querySelector('#b5p3').setAttribute('visible', true);
                document.querySelector('#b5p4').setAttribute('visible', true);
                document.querySelector('#b5p5').setAttribute('visible', true);
                document.querySelector('#b5center').setAttribute('radius', '0.08');
                document.querySelector('#b5center').setAttribute('color', '#FFFF99');
                
                // Reset blossom 7
                document.querySelector('#b7p1').setAttribute('visible', true);
                document.querySelector('#b7p2').setAttribute('visible', true);
                document.querySelector('#b7p3').setAttribute('visible', true);
                document.querySelector('#b7p4').setAttribute('visible', true);
                document.querySelector('#b7p5').setAttribute('visible', true);
                document.querySelector('#b7center').setAttribute('radius', '0.09');
                document.querySelector('#b7center').setAttribute('color', '#FFFF99');
                
                // Remove stems
                const stems = document.querySelectorAll('a-cylinder');
                stems.forEach(stem => stem.remove());
                
                // Start cycle again
                setTimeout(transformToApples, 3000);
            }, 10000);
        }
    </script>
</body>
</html>
